function buildCsvData(t){let n=[];return t.forEach(t=>{let e=t.data,a=t.label;e.forEach(e=>{if(e){let t={};t.label=a,t.x_age=e.x,t.y_value=e.y,n.push(t)}})}),n}function setDownloadLink(t,e,a){t.type="text/csv",t.download=a||"chart-data.csv",t.href=e}function createBlob(t){if(t){t=t.constructor!==Blob?new Blob([t],{type:"text/csv"}):t;const e=window.URL;return e.createObjectURL(t)}}function createCsv(t,e,a){t=buildCsvData(t.datasets),t=createBlob(Papa.unparse(t));setDownloadLink(document.getElementById(e),t,a)}