---
layout: html_minifier
---

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

<head>
{%- include head.html -%}
</head>

<body>
  {{ content }}

  {%- include darken/init.html -%}

  {% if jekyll.environment != "local" and site.shynet %}

  {% comment %} This is to prevent double slashes "//" {% endcomment %}
  {% assign shynet_last_char = site.shynet | slice: -1 %}

  {% if shynet_last_char == "/" %}
  {% assign new_length = site.shynet | size | minus: 1 %}
  {% assign shynet = site.shynet | slice: 0, new_length %}
  {% else %}
  {% assign shynet = site.shynet %}
  {% endif %}

  <noscript><img src="{{ shynet }}/pixel.gif"></noscript>
  <script defer src="{{ shynet }}/script.js"></script>
  {% endif %}

  {% if page.toc %}
  <script>
    var spy = new Gumshoe('#toc-menu a', {
      offset: 2 * parseFloat(getComputedStyle(document.documentElement).fontSize),
    });
  </script>
  {% endif %}

  {% if page.anchorjs %}
  <script>
    anchors.options = {
      placement: 'left',
      // visible: 'touch'
    };
    anchors.add();
  </script>
  {% endif %}
</body>

</html>